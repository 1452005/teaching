<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/go.min.js"></script>
	<link rel="stylesheet" type="text/css" href="../../stylesheets/styles.css" media="screen">
	<link rel="stylesheet" type="text/css" href="../..stylesheets/github-light.css" media="screen">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <title>TP6 DataViz Lyon1 M2 2017-2018</title>
</head>

<body>
		<!-- for highlight.js -->
		<script>hljs.initHighlightingOnLoad();</script>
		<div class="wrapper">
      <header>
			<h1>TP6 DataViz: Force-directed graphs avec D3.js</h1>
			<p>Université Lyon 1, Master 2, 2017-2018</p>

      </header>

			<section>
				<h3>Objectif du TP</h3>

				<p>Nous nous inspirerons de la visualisation du bipartisme du Sénat américain de David Chouinard</p>

        <img src="http://b-i.forbesimg.com/ericaswallow/files/2013/11/4kDokyz.jpg" width="300px">

				<p>pour visualiser le bipartisme de l'assemblée nationale française en 2015. Chaque noeud représente un homme politique. La force entre les liens correspond au nombre de fois où ils ont été d'accord sur un vote (soit tous les deux pour, soit tous les deux contres).</p>

				<img src="images/solutiontp6.png" width="600px">
				<br>

				<h4>0. Fork de l'exemple des Miserables</h4>
					<p>Forkez <a href="http://blockbuilder.org/nbonneel/91f6d433810029851e170ba668436340">l'exemple de visualisation D3</a> (attention, D3 v4) des relations entre les personnages des Misérables. Cet exemple inclut 2 fichiers supplémentaires: scrutins.json et acteurs_simple2.json. <br>
					Le premier fichier contient tous les votes de l'assemblée depuis 2012. Cela inclut pour chaque vote et pour chaque parti, l'ensemble des personnes ayant voté pour, ou ayant voté contre (ou s'étant éventuellement abstenus -- nous les ignorerons ici). L'ensemble des acteurs politiques et le nom de leur parti est codé par une référence. <br>
					Le second fichier contient ainsi l'ensemble des références concernant les acteurs politiques (donnant ainsi leur nom, prénom, et autres données personnelles), ainsi que les partis politiques.</p>

				<h4>1. Adaptez la fonction de création de graphe</h4>
					<p>Aidez-vous d'un dictionnaire pour compter les votes pour et contre de chaque paire de acteurs en 2015 uniquement(attention, comptez ces paires même si les acteurs sont dans des partis différents!). Pour l'instant, nous considererons uniquement les identifiants des acteurs et des partis.</p>

					<p>Attention: le graphe obtenu aura un nombre trop élevé de arcs, et votre machine ne tiendra probablement pas la route. Décimez alors votre graphe en ne considérant que les arcs correspondants à plus de N votes conjoints (la visualisation ci-dessus a été obtenue avec N=10, mais il faut attendre près de 2 minutes pour l'obtenir! débugguez avec N=20 au moins).</p>


				<h4>2. Affichage du nom des acteurs et partis</h4>
				<p>Changez la fonction "title" pour afficher le nom et le parti des acteurs lorsque la souris survole un noeud. Pour cela, utilisez le deuxième fichier pour retrouver les infos correspondant aux identifiants. </p>
				<p> Le nom du parti <code> json2.export.organes.organe[i].uid</code> se trouve dans:
				<code>
                   json2.export.organes.organe[i].libelle
			     </code>
				</p>
				<p> Similairement, le nom de l'acteur <code>json2.export.acteurs.acteur[i].uid["#text"]</code> se trouve à <code>json2.export.acteurs.acteur[i].etatCivil.ident.prenom</code>.


				<h4>7. Pour les courageux (facultatif)</h4>
				<p>Rajouter une légende</a></p>

        <h3>Rendu pour ce TP</h3>

        <p>
					Vous pouvez discuter entre vous, mais le travail se fait et se rend individuellement.
					<b>Soumettre au plus tard mercredi <strike>14/12</strike> 21/12 à 23h59</b> le block dû par email à nicolas.bonneel@liris.cnrs.fr.</a>.
        </p>

			</section>

    </div>
    <script src="../javascripts/scale.fix.js"></script>

</body>
</html>
